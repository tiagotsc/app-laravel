var table=$("#list").DataTable({responsive:!0,autoWidth:!1,language:{url:"/assets/plugins/datatables/pt_br.json",select:{rows:{_:"Você selecionou %d linhas",0:"Clique na linha para selecionar",1:"Apenas 1 linha foi selecionada"}},buttons:{copyTitle:"Tabela copiada",copySuccess:{_:"%d linhas copiadas",1:"1 linha copiada"}}},searching:!0,ajax:$("#route_list").val(),order:[[1,"desc"]],columns:[{class:"details-control",orderable:!1,data:null,defaultContent:""},{data:"id",width:"6%"},{data:"system",width:"12%",render:function(a,t,e){let s=e.system.replace("_"," ");return s.charAt(0).toUpperCase()+s.slice(1)}},{data:"initials"},{data:"mail_title"},{data:"status",width:"5%",render:function(a,t,e){return"A"!=e.status?"Inativo":"Ativo"}},{data:"id",className:"text-center",orderable:!1,width:"5%",render:function(a,t,e){return`<a href="${$("#route_edit").val().replace("*",e.id)}"><i class="bi bi-pencil-square fs-5"></i></a>`}}]}),detailRows=[];$("#list tbody").on("click","tr td.details-control",(function(){var a=$(this).closest("tr"),t=table.row(a),e=$.inArray(a.attr("id"),detailRows);if(t.child.isShown())a.removeClass("details"),t.child.hide(),detailRows.splice(e,1);else{a.addClass("details");let s=[];s.push(null!=t.data().path_script&&""!=t.data().path_script?`<font face="Calibri"><b class="text-secondary">Caminho do script: </font><span class="text-info font-monospace">${t.data().path_script}</span></b></br>`:""),s.push(`<font face="Calibri"><b class="text-secondary">Descrição: </b></font><span class="font-monospace"> ${t.data().description}</span>`),t.child(s.join("")).show(),-1===e&&detailRows.push(a.attr("id"))}})),table.on("draw",(function(){$.each(detailRows,(function(a,t){$("#"+t+" td.details-control").trigger("click")}))}));
