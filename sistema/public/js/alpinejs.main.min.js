document.addEventListener("alpine:init",(()=>{Alpine.data("main",(()=>({btAlterPsw:"Alterar",execAlter:!1,btn_block:!0,message1:"",show1:!1,message2:"",show2:!1,statusResetPass:"",clearFrmResetPass(){this.statusResetPass="",document.getElementById("new_password").value="",document.getElementById("again_new_password").value="",this.show1=!1,this.show2=!1},validationResetPassword(){let e=document.getElementById("new_password").value,t=document.getElementById("again_new_password").value;""!=e.trim()&&e.trim().length<8?(this.message1="MÃ­nimo de 8 caracteres!",this.show1=!0):(this.message1="",this.show1=!1),""!=t.trim()&&t.trim()!=e.trim()?(this.message2="Senha diferente!",this.show2=!0):(this.message2="",this.show2=!1),0==this.show1&&0==this.show2&&t.trim()==e.trim()?this.btn_block=!1:this.btn_block=!0},resetPassword(){this.btn_block=!0;let e={password:document.getElementById("new_password").value,_method:"PUT",_token:document.head.querySelector("meta[name=csrf-token]").content};this.btAlterPsw="Alterando...",this.execAlter=!0,fetch(document.getElementById("frm-reset-password").action,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.ok?this.statusResetPass='<b class="color-blue">Senha alterada com sucesso!</b>':this.statusResetPass='<b class="color-red">Algo errado! Se persistir, fale com o administrador!</b>'})).catch((()=>{this.statusResetPass='<b class="color-red">Error grave! Se persistir, fale com o administrador!</b>'})).finally((()=>{document.getElementById("new_password").value="",document.getElementById("again_new_password").value="",this.btn_block=!0,this.btAlterPsw="Alterar",this.execAlter=!1}))}})))}));
