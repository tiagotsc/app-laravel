$(".dt").mask("00/0000"),$(".dt").datepicker({format:"mm/yyyy",autoclose:"true",language:"pt-BR",startView:"months",minViewMode:"months"});var table=$("#list").DataTable({responsive:!0,autoWidth:!1,language:{url:"/assets/plugins/datatables/pt_br.json",select:{rows:{_:"VocÃª selecionou %d linhas",0:"Clique na linha para selecionar",1:"Apenas 1 linha foi selecionada"}},buttons:{copyTitle:"Tabela copiada",copySuccess:{_:"%d linhas copiadas",1:"1 linha copiada"}}},processing:!0,searching:!0,ajax:{url:$("#route_list").val(),type:"GET",data:function(t){t.type=$("#type").val(),t.start_date=$("#start_date").val().split("/").reverse().join("-")+"-01",t.end_date=$("#end_date").val().split("/").reverse().join("-")+"-01"},error:function(t,e,a){$("#bt").prop("disabled",!1).html("Visualizar"),$("#bt-export").prop("disabled",!1),$("#list_processing").hide(),$("#list > tbody").html('<tr class="odd"><td valign="top" colspan="7" class="dataTables_empty">Erro ao carregar, pesquise novamente!</td></tr>')}},initComplete:function(t,e){$("#bt").prop("disabled",!1).html("Visualizar"),$("#bt-export").prop("disabled",!1)},order:[[5,"desc"]],columns:[{data:"reference_date",width:"10%"},{data:"count_type",width:"12%"},{data:"type",width:"15%"},{data:"count_proceeds",width:"11%"},{data:"count_not_proceeds",width:"14%"},{data:"count_undefined",width:"14%"},{data:"count_total",width:"12%"},{data:"count_recurrent",width:"12%"}]});frmValidate("#frm",{start_date:{required:!0},end_date:{required:!0}},{start_date:{required:"Informe, por favor!"},end_date:{required:"Informe, por favor!"}}),$("#bt").prop("disabled",!0).html("Aguarde..."),$("#bt-export").prop("disabled",!0),$("#bt").on("click",(function(){$("#frm").valid()&&($("#bt").prop("disabled",!0).html("Aguarde..."),$("#bt-export").prop("disabled",!0),table.clear().draw(),table.ajax.reload((function(t){$("#bt").prop("disabled",!1).html("Visualizar"),$("#bt-export").prop("disabled",!1)})))})),$("#bt-export").on("click",(function(){let t=`${$("#route_export").val()}?type=${$("#type").val()}&start_date=${$("#start_date").val().split("/").reverse().join("-")+"-01"}&end_date=${$("#end_date").val().split("/").reverse().join("-")+"-01"}`,e=document.createElement("a");e.href=t,e.click(),e.remove()}));
