function calendar(e=""){e=""!=e?e:".date_calendar",$(e).mask("00/00/0000"),$(e).datepicker({format:"dd/mm/yyyy",autoclose:"true",language:"pt-BR",weekStart:0,startDate:new Date((new Date).setDate((new Date).getDate()-240)),endDate:new Date((new Date).setDate((new Date).getDate()+60)),todayHighlight:!0}).on("changeDate",(function(e){if(10==$("#start_date").val().length&&10==$("#end_date").val().length){let e=$("#start_date").datepicker("getDate");$("#end_date").datepicker("getDate")<e&&(alert("Data fim é menor!"),$("#end_date").val("").focus())}calculateDate()}))}function calculateDate(){if("fato_relevante"==$("#type").val()&&10==$("#end_date").val().length&&""!=$("#number_days").val()){let e=-parseInt($("#number_days").val()),a=moment($("#end_date").val(),"DD/MM/YYYY").add(e,"days").format("DD/MM/YYYY");$("#start_date").val(a)}else"fato_relevante"==$("#type").val()&&$("#start_date").val("");$("#number_days,#start_date,#end_date").valid()}moment.locale("pt-BR"),calendar(),$("#reference_date").mask("00/0000"),$("#reference_date").datepicker({format:"mm/yyyy",autoclose:"true",language:"pt-BR",startView:"months",minViewMode:"months"}),frmValidate("#frm",{type:{required:!0},reference_date:{required:!0},minimum_quantity:{required:!0},number_days:{required:{depends:function(){var e=!1;if("fato_relevante"==$("#type").val())e=!0;return e}},min:1},check_days:{required:{depends:function(){var e=!1;if("encarteiramento"==$("#type").val())e=!0;return e}},min:0},start_date:{required:!0},end_date:{required:!0},name:{required:{depends:function(e){var a=!1;if("fato_relevante"==$("#type").val())a=!0;return a}}}},{type:{required:"Selecione, por favor!"},reference_date:{required:"Informe, por favor!"},minimum_quantity:{required:"Informe, por favor!"},number_days:{required:"Informe, por favor!",min:"Número precisa ser superior a zero!"},check_days:{required:"Informe, por favor!",min:"Informe zero ou superior!"},start_date:{required:"Informe, por favor!"},end_date:{required:"Informe, por favor!"},name:{required:"Informe, por favor!"}});
