document.addEventListener("alpine:init",(()=>{Alpine.data("managerFrm",(()=>({data:{_token:document.head.querySelector("meta[name=csrf-token]").content,_method:null!==document.querySelector('input[name="_method"]')?document.querySelector('input[name="_method"]').value:""},loading:!1,buttonLabel:"Adicionar",submitData(){$("#frm").valid()&&(this.buttonLabel="Aguarde...",this.loading=!0,this.data.gh=document.getElementById("gh").value,fetch(document.getElementById("frm").action,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.data)}).then((t=>{1!=t.ok&&modalStatus("Algo errado!","Se persistir, fale com o administrador!"),t.json().then((t=>{modalStatus("Muito bom!","Adicionado com sucesso!")}))})).catch((()=>{modalStatus("Error grave!",'Se persistir, fale com o administrador!"')})).finally((()=>{this.loading=!1,this.buttonLabel="Adicionar",table.clear().draw(),table.ajax.reload(),this.data.gh="",document.getElementById("gh").value="",new bootstrap.Modal(document.getElementById("modal-status")).show()})))}})))}));
